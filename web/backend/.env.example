# =============================================================================
# Absense Backend - Docker Deployment Environment Configuration Template
# =============================================================================
# Copy this file to .env and update values for your environment
# cp .env.example .env
# Then edit .env with your actual values

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=strongdatabase123
POSTGRES_DB=absense
POSTGRES_PORT=5432

# =============================================================================
# Application Configuration
# =============================================================================
APP_PORT=8000

# Secret key for JWT token signing - MUST be changed in production!
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=deployversion123

# JWT token expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# JWT algorithm
ALGORITHM=HS256

# =============================================================================
# CORS Configuration
# =============================================================================
# Allowed origins (comma-separated) - restrict in production!
# Example: http://localhost:3000,https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_ORIGINS=*

# Allow credentials (cookies, authorization headers)
CORS_ALLOW_CREDENTIALS=true

# Allowed HTTP methods
CORS_ALLOW_METHODS=*

# Allowed HTTP headers
CORS_ALLOW_HEADERS=*

# =============================================================================
# Storage Configuration
# =============================================================================
# Storage backend: "local" or "s3"
STORAGE_BACKEND=local

# AWS S3 Configuration (only needed if STORAGE_BACKEND=s3)
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# S3_ACCESS_KEY=your-aws-access-key-id
# S3_SECRET_KEY=your-aws-secret-access-key

# =============================================================================
# Upload Settings
# =============================================================================
# Maximum image file size in MB
UPLOAD_MAX_IMAGE_MB=5

# Allowed image MIME types (comma-separated)
UPLOAD_ALLOWED_IMAGE_TYPES=image/jpeg,image/png

# =============================================================================
# Face Verification Settings
# =============================================================================
# Enable face verification for attendance
FACE_VERIFICATION_ENABLED=true

# Face recognition model: "Facenet512", "ArcFace", "VGG-Face", etc.
FACE_MODEL=Facenet512

# Face verification threshold (0.0-1.0)
# Lower = stricter (more false negatives), Higher = lenient (more false positives)
# Recommended: 0.5-0.7
FACE_THRESHOLD=0.6

# Face detector backend: "retinaface", "opencv", "mtcnn", "ssd", etc.
# retinaface is recommended for best accuracy
FACE_DETECTOR_BACKEND=retinaface

# =============================================================================
# Notes
# =============================================================================
# 1. Change SECRET_KEY and POSTGRES_PASSWORD before deploying to production
# 2. Update CORS_ALLOW_ORIGINS to your actual frontend domains
# 3. If using S3, uncomment and configure S3_* variables
# 4. Adjust FACE_THRESHOLD based on your verification accuracy needs
# 5. This file is automatically loaded by docker-compose.prod.yml
